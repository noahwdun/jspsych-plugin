{"version":3,"file":"index.browser.min.js","sources":["../package.json","../src/index.ts"],"sourcesContent":["{\n  \"name\": \"plugin-moving-dots-2\",\n  \"version\": \"0.0.1\",\n  \"description\": \"moving dots but better\",\n  \"type\": \"module\",\n  \"main\": \"dist/index.cjs\",\n  \"exports\": {\n    \"import\": \"./dist/index.js\",\n    \"require\": \"./dist/index.cjs\"\n  },\n  \"typings\": \"dist/index.d.ts\",\n  \"unpkg\": \"dist/index.browser.min.js\",\n  \"files\": [\n    \"src\",\n    \"dist\"\n  ],\n  \"source\": \"src/index.ts\",\n  \"scripts\": {\n    \"test\": \"jest\",\n    \"test:watch\": \"npm test -- --watch\",\n    \"tsc\": \"tsc\",\n    \"build\": \"rollup --config\",\n    \"build:watch\": \"npm run build -- --watch\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"\",\n    \"directory\": \"./\"\n  },\n  \"keywords\": [\n    \"jsPsych\"\n  ],\n  \"author\": {\n    \"name\": \"ollie & noah\",\n    \"url\": \"\"\n  },\n  \"license\": \"MIT\",\n  \"bugs\": {\n    \"url\": \"/issues\"\n  },\n  \"homepage\": \"/plugin-moving-dots-2/README.md\",\n  \"dependencies\": {\n    \"jspsych\": \"^8.0.0\",\n    \"@citation-js/core\": \"^0.7.14\",\n    \"@citation-js/plugin-software-formats\": \"^0.6.1\",\n    \"@citation-js/plugin-bibtex\": \"^0.7.14\",\n    \"@citation-js/plugin-cff\": \"^0.6.1\"\n  },\n  \"devDependencies\": {\n    \"@jspsych/config\": \"^3.2.2\",\n    \"@jspsych/test-utils\": \"^1.0.0\"\n  }\n}\n","// !!!TO DO: modify timing of trial to be 5 seconds for purposes of playback file collection. fix bugs\n\nimport { JsPsych, JsPsychPlugin, ParameterType, TrialType } from \"jspsych\";\n\nimport { version } from \"../package.json\";\n\nconst info = <const>{\n  name: \"plugin-moving-dots-2\",\n  version: version,\n  parameters: {\n    /** Maximum initial distance from the center location for dots */\n    max_initial_distance: {\n      type: ParameterType.INT,\n      default: 100,\n    },\n    /** Duration of the flash in milliseconds */\n    flash_duration: {\n      type: ParameterType.INT,\n      default: 200,\n    },\n    /** Delay before the dot flashes in milliseconds */\n    pre_flash_duration: {\n      type: ParameterType.INT,\n      default: 2500,\n    },\n    /** Duration of the post-flash in milliseconds */\n    post_flash_duration: {\n      type: ParameterType.INT,\n      default: 1500,\n    },\n    /** Initial level of control the mouse has over the dots (0-100) */\n    initial_control_level: {\n      type: ParameterType.INT,\n      default: 100,\n    },\n    /** Change in the level of control of the flashing dot after it changes (0-100) */\n    control_change_level: {\n      type: ParameterType.INT,\n      default: 30,\n    },\n    diode_heights: {\n      type: ParameterType.INT,\n      array: true,\n      default: [10, 70, 130, 190]\n    },\n    /** 2-dimensional array of mouse data for playback */\n    playback: {\n      type: ParameterType.COMPLEX,\n      array: true,\n      default: [] as Array<{ dx: number; dy: number; t: number }>,\n      params: {\n        dx: {\n          type: ParameterType.INT,\n        },\n        dy: {\n          type: ParameterType.INT,\n        },\n        t: {\n          type: ParameterType.INT,\n        },\n      },\n    },\n  },\n  data: {\n    /** Magnitude of the control change (e.g., 30, 70, 100) */\n    control_change: {\n      type: ParameterType.INT,\n    },\n  },\n  // When you run build on your plugin, citations will be generated here based on the information in the CITATION.cff file.\n  citations: \"__CITATIONS__\",\n};\n\ntype Info = typeof info;\n\n/**\n * **plugin-moving-dots-2**\n *\n * Handles moving series of dots that move at the same speed in response to user input; one dot will flash red and change its control level. Implemented as part of an experiment for COGS-219; replicating the paper \"Control Changes the Way We Look at the World\" by Wen & Haggard.\n *\n * @author Ollie & Noah\n * @see {@link /plugin-moving-dots-2/README.md}\n */\nclass MovingDots2Plugin implements JsPsychPlugin<Info> {\n  static info = info;\n\n  constructor(private jsPsych: JsPsych) {}\n\n  trial(display_element: HTMLElement, trial: TrialType<Info>) {\n    // Create a canvas to display the dots\n    const canvas = document.createElement(\"canvas\");\n\n    // Change canvas size to window size\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n\n    display_element.appendChild(canvas);\n    const ctx = canvas.getContext(\"2d\");\n\n    // Initialize dot positions and control levels\n    const dots: { x: number; y: number; control: number }[] = [];\n\n    // Flash one dot and change its control level after a random delay\n    const flashIndex = 0;\n    const controlChange = trial.control_change_level;\n\n    let flashStartTime: number | null = null;\n    let hasFlashed = false;\n    let isFlashing = false;\n\n    const data = [];\n    let frame = 0;\n\n    let startTime = Date.now();\n    let lastFrameTime = startTime;\n\n    // Handle mouse/touchpad input\n    let dx = 0;\n    let dy = 0;\n\n    let isFirstMove = true;\n\n    const initializeDots = () => {\n      for (let i = 0; i < 10; i++) {\n        const angle = Math.random() * 2 * Math.PI;\n        const distance = Math.random() * trial.max_initial_distance;\n        dots.push({\n          x: canvas.width / 2 + distance * Math.cos(angle),\n          y: canvas.height / 2 + distance * Math.sin(angle),\n          control: trial.initial_control_level, // Initial control level\n        });\n      }\n    };\n\n    // Render dots, cross, and control value\n    const renderDotsAndCross = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      // Render cross at the center\n      ctx.beginPath();\n      ctx.moveTo(canvas.width / 2 - 10, canvas.height / 2);\n      ctx.lineTo(canvas.width / 2 + 10, canvas.height / 2);\n      ctx.moveTo(canvas.width / 2, canvas.height / 2 - 10);\n      ctx.lineTo(canvas.width / 2, canvas.height / 2 + 10);\n      ctx.strokeStyle = \"black\";\n      ctx.lineWidth = 2;\n      ctx.stroke();\n\n      // Render dots\n      dots.forEach((dot, index) => {\n        ctx.beginPath();\n        ctx.arc(dot.x, dot.y, 5, 0, 2 * Math.PI);\n        if (isFlashing) {\n          ctx.fillStyle = index === flashIndex ? \"red\" : \"black\";\n        } else {\n          ctx.fillStyle = \"black\";\n        }\n        ctx.fill();\n      });\n    };\n\n    const mouseMoveListener = (e: MouseEvent) => {\n      dx = e.movementX;\n      dy = e.movementY;\n    };\n\n    // Function to calculate new dx and dy\n    const doTheMath = (\n      inputDX: number,\n      inputDY: number,\n      playbackDX: number,\n      playbackDY: number,\n      control: number\n    ) => {\n\n      const epsilon = 0.00001; // a small constant to prevent division by zero\n\n      // get magnitude of mouse vector\n      const mySpeed = Math.sqrt(Math.pow(inputDX, 2) + Math.pow(inputDY, 2)) + epsilon;\n      \n      // get unit vector of mouse vector\n      const unitVector = { x: inputDX / mySpeed, y: inputDY / mySpeed };\n\n      // get magnitude of playback vector\n      const playbackSpeed = Math.sqrt(\n        Math.pow(playbackDX, 2) + Math.pow(playbackDY, 2)\n      ) + epsilon;\n\n      // get unit vector of playback vector\n      const playbackUnitVector = {\n        x: playbackDX / playbackSpeed,\n        y: playbackDY / playbackSpeed,\n      };\n\n      // blend the two vectors based on control\n      // if control is 1 (100%), use only the mouse vector\n      // if control is 0, use only the playback vector\n\n      const newDX = (control * unitVector.x + (1 - control) * playbackUnitVector.x) * mySpeed;\n      const newDY = (control * unitVector.y + (1 - control) * playbackUnitVector.y) * mySpeed;\n      \n      return { newDX, newDY };\n    };\n\n    // Update dot positions based on control\n    const updateDots = (vx: number, vy: number) => {\n      dots.forEach((dot) => {\n        const { newDX, newDY } = doTheMath(\n          vx,\n          vy,\n          trial.playback[frame].dx,\n          trial.playback[frame].dy,\n          dot.control / 100\n        );\n        dot.x += newDX;\n        dot.y += newDY;\n      });\n    };\n\n    // End trial\n    const endTrial = () => {\n      document.exitPointerLock();\n      canvas.removeEventListener(\"mousemove\", mouseMoveListener);\n      display_element.innerHTML = \"\"; // Clear the canvas\n      this.jsPsych.finishTrial({\n        control_change: controlChange,\n        mouse_data: data,\n      });\n    };\n\n    /**\n     * Renders side boxes and updates their colors based on control and change parameters.\n     * @param initialControl - The initial control level (0 or 1).\n     * @param controlChange - The control change level (0, 30, or 70).\n     * @param isFlashing - Whether the dot is currently flashing.\n     * @param diodeHeights - Array of heights for the boxes.\n     */\n    function renderSideBoxes(initialControl: number, controlChange: number, isFlashing: boolean, diodeHeights: number[]) {\n      const box1 = document.createElement(\"div\");\n      const box2 = document.createElement(\"div\");\n      const box3 = document.createElement(\"div\");\n      const box4 = document.createElement(\"div\");\n\n      const label1 = document.createElement(\"div\");\n      const label2 = document.createElement(\"div\");\n      const label3 = document.createElement(\"div\");\n      const label4 = document.createElement(\"div\");\n\n      box1.style.position = \"fixed\";\n      box1.style.bottom = `${diodeHeights[0]}px`;\n      box1.style.right = \"10px\";\n      box1.style.height = \"5vh\";\n      box1.style.width = \"5vh\";\n      box1.style.backgroundColor = \"black\";\n\n      box2.style.position = \"fixed\";\n      box2.style.bottom = `${diodeHeights[1]}px`;\n      box2.style.right = \"10px\";\n      box2.style.height = \"5vh\";\n      box2.style.width = \"5vh\";\n      box2.style.backgroundColor = \"black\";\n\n      box3.style.position = \"fixed\";\n      box3.style.bottom = `${diodeHeights[2]}px`;\n      box3.style.right = \"10px\";\n      box3.style.height = \"5vh\";\n      box3.style.width = \"5vh\";\n      box3.style.backgroundColor = \"black\";\n\n      box4.style.position = \"fixed\";\n      box4.style.bottom = `${diodeHeights[3]}px`;\n      box4.style.right = \"10px\";\n      box4.style.height = \"5vh\";\n      box4.style.width = \"5vh\";\n      box4.style.backgroundColor = isFlashing ? \"white\" : \"black\";\n\n      if (isFlashing) {\n        box1.style.backgroundColor = initialControl === 100 ? \"white\" : \"black\";\n        box2.style.backgroundColor = controlChange === 30 ? \"white\" : \"black\";\n        box3.style.backgroundColor = controlChange === 70 ? \"white\" : \"black\";\n      }\n\n      label1.style.position = \"fixed\";\n      label1.style.bottom = `${diodeHeights[0] + 35}px`;\n      label1.style.right = \"10px\";\n      label1.style.fontSize = \"12px\";\n      label1.innerText = \"initial\";\n\n      label2.style.position = \"fixed\";\n      label2.style.bottom = `${diodeHeights[1] + 35}px`;\n      label2.style.right = \"10px\";\n      label2.style.fontSize = \"12px\";\n      label2.innerText = \"change1\";\n\n      label3.style.position = \"fixed\";\n      label3.style.bottom = `${diodeHeights[2] + 35}px`;\n      label3.style.right = \"10px\";\n      label3.style.fontSize = \"12px\";\n      label3.innerText = \"change2\";\n\n      label4.style.position = \"fixed\";\n      label4.style.bottom = `${diodeHeights[3] + 35}px`;\n      label4.style.right = \"10px\";\n      label4.style.fontSize = \"12px\";\n      label4.innerText = \"flash\";\n\n      document.body.appendChild(box1);\n      document.body.appendChild(box2);\n      document.body.appendChild(box3);\n      document.body.appendChild(box4);\n\n      document.body.appendChild(label1);\n      document.body.appendChild(label2);\n      document.body.appendChild(label3);\n      document.body.appendChild(label4);\n    }\n\n    const animate = () => {\n      const currentTime = Date.now();\n      const elapsedTime = currentTime - startTime;\n\n      lastFrameTime = currentTime;\n\n      // working backwards from the end of the trial\n      \n      // check if the trial is over\n      if(elapsedTime >= trial.pre_flash_duration + trial.post_flash_duration) {\n        endTrial();\n        return;\n      }\n\n      // check if we are switching to the post-flash period\n      if (isFlashing && currentTime - flashStartTime >= trial.flash_duration) {\n        isFlashing = false;\n        hasFlashed = true;\n      }\n\n      // check if it is time to flash\n      if (elapsedTime >= trial.pre_flash_duration && !isFlashing && !hasFlashed) {\n        flashStartTime = Date.now();\n        isFlashing = true;\n        if (trial.initial_control_level === 100) {\n          dots[flashIndex].control = dots[flashIndex].control - controlChange;\n        } else if (trial.initial_control_level === 0) {\n          dots[flashIndex].control = dots[flashIndex].control + controlChange;\n        }\n      }\n\n      // Render side boxes\n      renderSideBoxes(trial.initial_control_level, trial.control_change_level, isFlashing, trial.diode_heights);\n\n      // run the next loop of the animation\n      updateDots(dx, dy);\n      renderDotsAndCross();\n      data.push({ dx, dy });\n      dx = 0;\n      dy = 0;\n      frame++;\n      requestAnimationFrame(animate);\n    };\n\n    initializeDots();\n    renderDotsAndCross();\n    canvas.requestPointerLock({ unadjustedMovement: false });\n    canvas.addEventListener(\"mousemove\", mouseMoveListener);\n    animate();\n  }\n}\n\nexport default MovingDots2Plugin;\n"],"names":["version","info","ParameterType","MovingDots2Plugin","jsPsych","display_element","trial","canvas","ctx","dots","flashIndex","controlChange","flashStartTime","hasFlashed","isFlashing","data","frame","startTime","dx","dy","initializeDots","i","angle","distance","renderDotsAndCross","dot","index","mouseMoveListener","e","doTheMath","inputDX","inputDY","playbackDX","playbackDY","control","mySpeed","unitVector","playbackSpeed","playbackUnitVector","newDX","newDY","updateDots","vx","vy","endTrial","renderSideBoxes","initialControl","diodeHeights","box1","box2","box3","box4","label1","label2","label3","label4","animate","currentTime","elapsedTime"],"mappings":"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"}